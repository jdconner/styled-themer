function t(t){return t&&"object"==typeof t&&!Array.isArray(t)}function n(t){return t&&"function"==typeof t}function e(t){return t.includes(":")}function r(t){return"!"===t.charAt(0)}function o(t){return t.split(",").map(t=>t.trim())}function s(n,...e){const r=n;return t(n)&&e.forEach(e=>{t(e)&&Object.keys(e).forEach(o=>{"__proto__"!==o&&(t(e[o])&&o in n?r[o]=s({...n[o]},e[o]):r[o]=e[o])})}),r}function c(c,u,i){const f=i&&u[i]||{};let l=function n(o,c){let u={...c};for(let[c,i]of Object.entries(u)){const f=r(c);let l=c;if(f&&(l=c.substring(1)),t(i)&&!e(c)){(f?!o[l]:!!o[l])&&(u=s({...u},n(o,u[c]))),delete u[c]}}return u}(c,s({...u},f));for(let[t,r]of Object.entries(l))if(n(r))l[t]=r(c);else if(e(t)){let e={};for(let[r,o]of Object.entries(l[t]))e[r]=n(o)?o(c):o;t.includes(",")?(o(t).forEach(t=>{l[t]={...e,...l[t]}}),delete l[t]):l[t]=e}return l}export default function(t,e={}){function r(o){const u=o.theme&&o.theme.components&&o.theme.components[t]||{},i=c(o,u),f=c(o,n(e)?e(o):e);return console.log(s({...i},f,...r.styles.map(t=>t(o)))),s({...i},f,...r.styles.map(t=>t(o)))}return r.styles=[],r.addVariant=function(t,e){return this.styles.push((function(r){const o=r[t];return c(r,n(e)?e(r):e,o)})),this},r.addGlobalVariant=function(t,e){return this.styles.push((function(r){const o=r.theme[t];return c(r,n(e)?e(r):e,o)})),this},r}
